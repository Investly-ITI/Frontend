<!-- ========================================
     MY IDEAS SECTION
======================================== -->
<div class="my-ideas-container">
  <div class="ideas-header">
    <div class="header-content">
      <div class="header-text">
        <h3 class="ideas-title">My Ideas & Business Proposals</h3>
        <p class="ideas-description">Manage your submitted ideas and track their status</p>
      </div>
      <div class="header-filter">
        <div class="filter-wrapper">
          <i class='bx bx-filter filter-icon'></i>
          <div class="filter-select-container">
            <select 
              class="filter-select"
              [(ngModel)]="selectedStatus" 
              (ngModelChange)="onStatusFilterChange()"
            >
              <option 
                *ngFor="let option of statusOptions" 
                [value]="option.value"
              >
                {{ option.label }} ({{ getStatusCount(option.value) }})
              </option>
            </select>
            <i class='bx bx-chevron-down filter-select-icon'></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ideas Grid -->
  <div class="ideas-grid" *ngIf="filteredIdeas.length > 0; else noIdeas">
    <div class="idea-card" *ngFor="let idea of filteredIdeas">
      <!-- Status Badge -->
      <div class="status-badge" [ngClass]="getStatusClass(idea.status)">
        <i class='bx' [ngClass]="getStatusIcon(idea.status)"></i>
        <span>{{ idea.status | titlecase }}</span>
      </div>

      <!-- Idea Content -->
      <div class="idea-content">
        <h4 class="idea-title">{{ idea.title }}</h4>
        <div class="idea-meta">
          <div class="meta-item">
            <i class='bx bx-category'></i>
            <span>{{ idea.category }}</span>
          </div>
          <div class="meta-item">
            <i class='bx bx-rocket'></i>
            <span>{{ idea.stage }}</span>
          </div>
          <div class="meta-item">
            <i class='bx bx-map'></i>
            <span>{{ idea.city }}, {{ idea.government }}</span>
          </div>
          <div class="meta-item">
            <i class='bx bx-calendar'></i>
            <span>{{ idea.submittedDate | date:'MMM dd, yyyy' }}</span>
          </div>
        </div>
        <p class="idea-description">{{ idea.description }}</p>
      </div>

      <!-- Action Buttons -->
      <div class="idea-actions">
        <button class="btn btn-primary btn-sm" (click)="onViewDetails(idea)">
          <i class='bx bx-show'></i>
          View Details
        </button>
        <button class="btn btn-secondary btn-sm" (click)="onEditIdea(idea)" 
                [disabled]="!canEdit(idea)">
          <i class='bx bx-edit'></i>
          Edit
        </button>
        <button class="btn btn-danger btn-sm" (click)="onDeleteIdea(idea)"
                [disabled]="!canDelete(idea)">
          <i class='bx bx-trash'></i>
          Delete
        </button>
      </div>
    </div>
  </div>

  <!-- No Ideas State -->
  <ng-template #noIdeas>
    <div class="no-ideas">
      <i class='bx bx-bulb'></i>
      <h4 *ngIf="selectedStatus === 'all'; else filteredNoIdeas">No Ideas Yet</h4>
      <ng-template #filteredNoIdeas>
        <h4>No {{ getSelectedStatusLabel() }} Ideas</h4>
      </ng-template>
      <p *ngIf="selectedStatus === 'all'; else filteredMessage">You haven't submitted any business ideas or proposals yet.</p>
      <ng-template #filteredMessage>
        <p>You don't have any ideas with {{ getSelectedStatusLabel().toLowerCase() }} status.</p>
      </ng-template>
      <button class="btn btn-primary" *ngIf="selectedStatus === 'all'">
        <i class='bx bx-plus'></i>
        Add Your First Idea
      </button>
    </div>
  </ng-template>
</div> 