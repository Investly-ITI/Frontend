<!-- ========================================
     INFORMATION SECTION
======================================== -->
<div class="content-section">
  <div class="section-header">
    <h2 class="section-title">Personal Information</h2>
    <p class="section-description">Manage your personal details and profile information</p>
  </div>

  <!-- Save Message -->
  <div class="save-message" *ngIf="saveMessage" [ngClass]="{'success': saveMessage.includes('successfully'), 'error': saveMessage.includes('Failed') || saveMessage.includes('fix')}">
    <i class='bx' [ngClass]="saveMessage.includes('successfully') ? 'bx-check-circle' : 'bx-error-circle'"></i>
    <span>{{ saveMessage }}</span>
  </div>

  <div class="form-container">
    <form class="profile-form">
      <!-- Personal Details -->
      <div class="form-row">
        <div class="form-group">
          <label class="form-label" for="firstName">First Name</label>
          <input 
            type="text" 
            id="firstName" 
            class="form-control readonly" 
            [(ngModel)]="personalInfo.firstName"
            name="firstName"
            readonly
            [disabled]="isSaving"
          >
        </div>
        <div class="form-group">
          <label class="form-label" for="lastName">Last Name</label>
          <input 
            type="text" 
            id="lastName" 
            class="form-control readonly" 
            [(ngModel)]="personalInfo.lastName"
            name="lastName"
            readonly
            [disabled]="isSaving"
          >
        </div>
      </div>

      <div class="form-row">
        <div class="form-group editable">
          <label class="form-label" for="email">Email Address</label>
          <input 
            type="email" 
            id="email" 
            class="form-control" 
            [class.invalid]="!isEmailValid()"
            [(ngModel)]="personalInfo.email"
            (ngModelChange)="onFieldChange()"
            name="email"
            [disabled]="isSaving"
          >
          <i class='bx bx-edit edit-icon' style="color: var(--light);"></i>
          <div class="error-message" *ngIf="!isEmailValid()">
            {{ getFieldErrorMessage('email') }}
          </div>
        </div>
        <div class="form-group">
          <label class="form-label" for="dateOfBirth">Date of Birth</label>
          <input 
            type="date" 
            id="dateOfBirth" 
            class="form-control readonly" 
            [(ngModel)]="personalInfo.dateOfBirth"
            name="dateOfBirth"
            readonly
            [disabled]="isSaving"
          >
        </div>
      </div>

      <div class="form-row">
        <div class="form-group editable">
          <label class="form-label" for="countryCode">Country Code</label>
          <select 
            id="countryCode" 
            class="form-control" 
            [(ngModel)]="personalInfo.countryCode"
            (ngModelChange)="onFieldChange()"
            name="countryCode"
            [disabled]="isSaving"
          >
            <option value="+20">+20 (Egypt)</option>
            <option value="+1">+1 (United States)</option>
            <option value="+44">+44 (United Kingdom)</option>
            <option value="+49">+49 (Germany)</option>
            <option value="+33">+33 (France)</option>
            <option value="+39">+39 (Italy)</option>
            <option value="+34">+34 (Spain)</option>
            <option value="+86">+86 (China)</option>
            <option value="+81">+81 (Japan)</option>
            <option value="+91">+91 (India)</option>
          </select>
          <i class='bx bx-edit edit-icon' style="color: var(--light);"></i>
        </div>
        <div class="form-group editable">
          <label class="form-label" for="phoneNumber">Phone Number</label>
          <input 
            type="tel" 
            id="phoneNumber" 
            class="form-control" 
            [class.invalid]="!isPhoneNumberValid()"
            [(ngModel)]="personalInfo.phoneNumber"
            (ngModelChange)="onFieldChange()"
            name="phoneNumber"
            [disabled]="isSaving"
          >
          <i class='bx bx-edit edit-icon' style="color: var(--light);"></i>
          <div class="error-message" *ngIf="!isPhoneNumberValid()">
            {{ getFieldErrorMessage('phoneNumber') }}
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label" for="street">Street Address</label>
        <input 
          type="text" 
          id="street" 
          class="form-control readonly" 
          [(ngModel)]="personalInfo.street"
          name="street"
          readonly
          [disabled]="isSaving"
        >
      </div>

      <div class="form-row">
        <div class="form-group">
          <label class="form-label" for="government">Government</label>
          <input 
            type="text" 
            id="government" 
            class="form-control readonly" 
            [(ngModel)]="personalInfo.government"
            name="government"
            readonly
            [disabled]="isSaving"
          >
        </div>
        <div class="form-group">
          <label class="form-label" for="city">City</label>
          <input 
            type="text" 
            id="city" 
            class="form-control readonly" 
            [(ngModel)]="personalInfo.city"
            name="city"
            readonly
            [disabled]="isSaving"
          >
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label class="form-label" for="nationalId">National ID</label>
          <input 
            type="text" 
            id="nationalId" 
            class="form-control readonly" 
            [(ngModel)]="personalInfo.nationalId"
            name="nationalId"
            readonly
            [disabled]="isSaving"
          >
        </div>
        <div class="form-group">
          <label class="form-label" for="gender">Gender</label>
          <input 
            type="text" 
            id="gender" 
            class="form-control readonly" 
            [(ngModel)]="personalInfo.gender"
            name="gender"
            readonly
            [disabled]="isSaving"
          >
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-primary" (click)="onSave()" [disabled]="isSaving || !isFormValid()">
          <i class='bx' [ngClass]="isSaving ? 'bx-loader-alt bx-spin' : 'bx-save'"></i>
          {{ isSaving ? 'Saving...' : 'Save Changes' }}
        </button>
      </div>
    </form>
  </div>
</div> 