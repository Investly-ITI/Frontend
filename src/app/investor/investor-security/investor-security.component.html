<!-- ========================================
     SECURITY SECTION
======================================== -->
<div class="content-section">
  <div class="section-header">
    <h2 class="section-title">Security Settings</h2>
    <p class="section-description">Manage your account security and password</p>
  </div>

  <!-- Save Message -->
  <div class="save-message" *ngIf="saveMessage" [ngClass]="{'success': saveMessage.includes('successfully'), 'error': saveMessage.includes('Failed')}">
    <i class='bx' [ngClass]="saveMessage.includes('successfully') ? 'bx-check-circle' : 'bx-error-circle'"></i>
    <span>{{ saveMessage }}</span>
  </div>

  <div class="security-container">
    <!-- Account Status -->
    <div class="security-card">
      <div class="card-header">
        <h3 class="card-title">Account Status</h3>
        <span class="status-badge status-success">{{ securitySettings.accountStatus | titlecase }}</span>
      </div>
      <div class="card-content">
        <p>Your account is currently active and in good standing.</p>
      </div>
    </div>

    <!-- Password Security -->
    <div class="security-card">
      <div class="card-header">
        <h3 class="card-title">Change Password</h3>
      </div>
      <div class="card-content">
        <form class="password-form">
          <div class="form-group">
            <label class="form-label" for="oldPassword">Current Password</label>
            <input 
              type="password" 
              id="oldPassword" 
              class="form-control"
              [(ngModel)]="passwordForm.currentPassword"
              name="currentPassword"
              placeholder="Enter your current password"
              [disabled]="isSaving"
            >
          </div>
          
          <div class="form-group">
            <label class="form-label" for="newPassword">New Password</label>
            <input 
              type="password" 
              id="newPassword" 
              class="form-control"
              [(ngModel)]="passwordForm.newPassword"
              name="newPassword"
              placeholder="Enter new password (min 8 characters)"
              [disabled]="isSaving"
            >
          </div>
          
          <div class="form-group">
            <label class="form-label" for="confirmPassword">Confirm New Password</label>
            <input 
              type="password" 
              id="confirmPassword" 
              class="form-control"
              [(ngModel)]="passwordForm.confirmPassword"
              name="confirmPassword"
              placeholder="Confirm your new password"
              [disabled]="isSaving"
            >
          </div>
          
          <div class="password-error" *ngIf="passwordError">
            <i class='bx bx-error-circle'></i>
            <span>{{ passwordError }}</span>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-primary" (click)="onPasswordSubmit()" [disabled]="isSaving || !isPasswordFormValid()">
              <i class='bx' [ngClass]="isSaving ? 'bx-loader-alt bx-spin' : 'bx-save'"></i>
              {{ isSaving ? 'Saving...' : 'Save Password' }}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div> 
