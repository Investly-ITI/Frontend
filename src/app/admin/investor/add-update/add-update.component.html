<!-- Profile Picture Section -->
<div class="profile-picture-section">
    <div class="profile-picture-container" 
         (mouseenter)="showImageOverlay = true" 
         (mouseleave)="showImageOverlay = false">
        <img [src]="profileImageUrl" alt="Profile Picture" class="profile-picture">
        <div class="image-overlay" [ngClass]="{'show': showImageOverlay}">
            <i class='bx bx-edit-alt'></i>
        </div>
    </div>
</div>

<!-- Form Section -->
<form class="modal-form" (ngSubmit)="onSubmit()">
    <div class="form-group">
        <label for="entityName">Name</label>
        <div class="input-container">
            <input 
                type="text" 
                id="entityName" 
                name="entityName"
                [(ngModel)]="formData.name"
                [disabled]="!isEditMode"
                class="form-input2"
                [placeholder]="'Enter ' + entityName.toLowerCase() + ' name'"
                required>
        </div>
    </div>

    <div class="form-group">
        <label for="entityAge">Age</label>
        <div class="input-container">
            <input 
                type="number" 
                id="entityAge" 
                name="entityAge"
                [(ngModel)]="formData.age"
                [disabled]="!isEditMode"
                class="form-input2"
                placeholder="Enter age"
                required>
        </div>
    </div>

    <div class="form-group">
        <label for="entityStage">Stage</label>
        <div class="input-container">
            <select 
                id="entityStage" 
                name="entityStage"
                [(ngModel)]="formData.stage"
                [disabled]="!isEditMode"
                class="form-input2"
                required>
                <option value="">Select stage</option>
                <option value="beginner">Beginner</option>
                <option value="intermediate">Intermediate</option>
                <option value="advanced">Advanced</option>
                <option value="expert">Expert</option>
            </select>
        </div>
    </div>
</form>

<!-- Modal Footer -->
<div class="modal-footer">
    <!-- Add Mode: Show Add Button -->
    <button *ngIf="!selectedEntity" 
            type="button" 
            class="action-btn add-btn" 
            (click)="onSubmit()">
        <i class='bx bx-plus'></i>
        Add {{ entityName }}
    </button>

    <!-- View Mode: Show Edit/Save Button -->
    <button *ngIf="selectedEntity" 
            type="button" 
            class="action-btn edit-btn" 
            (click)="toggleEditMode()">
        <i class='bx' [ngClass]="isEditMode ? 'bx-check' : 'bx-edit-alt'"></i>
        {{ isEditMode ? 'Save' : 'Edit' }}
    </button>
</div>
